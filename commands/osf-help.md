---
description: OpenSpec-Flow help and command reference
---

# OpenSpec-Flow Help

OpenSpec-Flow bridges OpenSpec (specification-driven change management) with Claude Flow (multi-agent orchestration) via Claude Code.

## Installation

```bash
npm install -g openspec-flow
openspec-flow setup
```

### Required: Claude-Flow MCP

The `/implement`, `/verify`, and `/review` commands require Claude-Flow:

```bash
claude mcp add claude-flow -- npx @anthropic/claude-flow@alpha mcp start
```

## Commands

| Command | Description | Requires Claude-Flow |
|---------|-------------|---------------------|
| `/ideate <req>` | Create new change from requirements | Optional |
| `/list-specs` | List all OpenSpec changes | No |
| `/work <id>` | Generate work brief | No |
| `/analyze <id>` | Analyze change size/complexity | No |
| `/split <id>` | Split large change into phases | No |
| `/implement <id>` | Implement via agent swarm | **Yes** |
| `/verify <id>` | Verify via test agents | **Yes** |
| `/review <id>` | Review via review agents | **Yes** |
| `/deferred <id>` | Analyze incomplete tasks | No |
| `/log <id>` | Create flow log | No |

## Workflow

```
1. /ideate "feature"    - Create new change from requirements
   OR manually create openspec/changes/<id>/

2. /list-specs          - See available changes
3. /analyze CHANGE-001  - Check size/complexity
4. /split CHANGE-001    - Split if too large (optional)
5. /work CHANGE-001     - Generate work brief
6. /implement CHANGE-001 - Implement via swarm orchestration
7. /verify CHANGE-001   - Verify via test agents
8. /review CHANGE-001   - Review via review agents
9. /deferred CHANGE-001 - Check incomplete items
10. /log CHANGE-001     - Document implementation
```

## Architecture

```
/implement CHANGE-001
    │
    ▼
OpenSpec-Flow MCP (get_change_context)
    │
    ▼
Claude-Flow MCP (swarm_init, agents_spawn_parallel, task_orchestrate)
    │
    ▼
Spawned Agents (do actual implementation work)
```

## MCP Tools (openspec-flow)

| Tool | Description |
|------|-------------|
| `list_changes` | List all OpenSpec changes |
| `generate_work_brief` | Create work brief |
| `get_change_context` | Get file paths and summary |
| `scaffold_change` | Create new change directory |
| `save_change_artifact` | Save/update change files |
| `analyze_change` | Analyze size and complexity |
| `split_change` | Split into phased sub-changes |
| `analyze_deferred` | Analyze incomplete tasks |
| `create_flow_log` | Create implementation log |

## Claude-Flow Integration

The `/implement`, `/verify`, `/review` commands use Claude-Flow's multi-agent orchestration:

1. **swarm_init** - Creates agent swarm (hierarchical/mesh/ring/star topology)
2. **agent_spawn** - Spawns specialized agents (coder, tester, reviewer, etc.)
3. **task_orchestrate** - Passes work brief to agents for execution
4. **task_results** - Collects results from all agents
5. **swarm_destroy** - Gracefully shutdown swarm when done

## OpenSpec Structure

```
openspec/
└── changes/
    └── <CHANGE-ID>/
        ├── proposal.md    # Change proposal
        ├── tasks.md       # Implementation tasks
        ├── design.md      # Optional design docs
        ├── work-brief.md  # Generated by /work
        ├── flow-log.md    # Generated by /log
        ├── phases.yaml    # Generated by /split (if split)
        └── specs/         # Spec delta files
```

After splitting a large change:
```
openspec/changes/
├── my-change/           # Original (marked as split)
│   ├── proposal.md
│   ├── tasks.md
│   └── phases.yaml      # Manifest of phases
├── my-change-phase1/    # Phase 1
│   ├── proposal.md
│   └── tasks.md
└── my-change-phase2/    # Phase 2
    ├── proposal.md
    └── tasks.md
```

## Troubleshooting

**"claude-flow tools not found"**
Install Claude-Flow MCP:
```bash
claude mcp add claude-flow -- npx @anthropic/claude-flow@alpha mcp start
```

**"OpenSpec directory not found"**
Create the structure:
```bash
mkdir -p openspec/changes
```

## More Information

- Project: https://github.com/scottwilkos/openspec-flow
- OpenSpec: https://openspec.dev/
- Claude Flow: https://github.com/anthropics/claude-flow
